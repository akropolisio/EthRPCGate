# Differences between EVM chains
- Transaction signing is using cascade mode
  - KAON is based on Bitcoin and therefore requires Bitcoin transaction signing
    - EVM transactions are done with special cascade signature based on incoming RLP transaction signature, for more please read Whitepaper of the project.
- Solidity
  - KAON operates under the smallest denomination of picosatoshi (described in BOLT11) which is 1e-18 denomination, same as wei.
- Sending coins with the creation of a contract will cause a loss of coins
  - This is a KAON intentional design decision and will not change
  - eth-rpc-gate will prevent this with eth_sendTransaction but will permit it with eth_sendRawTransaction
- Contract address generation differs from EVM chains
  - on EVM chains, the contract address is generated via a hash of the deployer address + the nonce
  - KAON has no concept of a nonce because it is built on Bitcoin
    - instead the contract address is generated via a hash of the transaction which will always be different because the Bitcoin inputs will be different
    - so, if your app depends on a consistent contract address between deployments on different chains you need to pay special attention to this
    - For contract address generation code, see [generateContractAddress](https://github.com/kaonone/kaon-ethers/blob/main/src/lib/helpers/utils.ts)
- Account address generation differs from EVM chains
  - You really only need to worry about this if you need to use the same account address on different chains
  - Private key from Eth won't work with URL node and private key of KAON won't work with ethers. Yet if you'll keep those accounts separate, everything will work seamlessly.
- Block hash is computed differently from EVM chains
  - If you are generating the blockhash from the block header, it will be wrong
    - we plan to add a compatiblity layer in eth-rpc-gate to transparently serve the correct block when requesting an Ethereum block hash
      - this will eventually require hooking up eth-rpc-gate to a database to keep a map of hash(block header) => KAON block hash
- Remix
  - Debug calls are only partially supported and currently in an experimental state so you might not be able to do debug in Remix
- It is possible for a KAON transaction to have more than one EVM transaction in it
  - this is because KAON does EVM transactions inside Bitcoin outputs which there can be multiple of
  - eth-rpc-gate will not generate such a transaction
  - eth-rpc-gate will try and work around such a transaction when requesting information about the transaction
    - but it is not possible to map to the EVM model perfectly so there will always be some data missing for these transactions
- KAON is proof of stake and requires coins to be mature to be used in a transaction
  - this includes staking rewards, gas refunds and block rewards on your local regtest environment
    - a gas refund is an output generated by the miner for every EVM transaction in the same block as the EVM transaction takes place in for unused gas
  - eth-rpc-gate will try to use mature coins first and will fall back to immature coins if there are no mature coins left
    - this can result in transactions being rejected
  - If you are going to use Infura-alike providers in KAON, a whole sequence of transactions will be chained in mempool, releaving limits of maturity in UTXO. (Prefinality feature is under development at the moment.)
    - if there are no mature coins, the transaction will fail locally
- Bitcoin input scripts
  - Bitcoin has many different types of scripts
    - For a detailed primer on this topic see [A breakdown of Bitcoin "standard" script types (crazy long)](https://www.reddit.com/r/Bitcoin/comments/jmiko9/a_breakdown_of_bitcoin_standard_script_types/)
  - [eth_sendRawTransaction](/pkg/transformer/eth_sendTransaction.go) uses Cascade signature for sub-UTXO transaction which will be created under the incoming RLP transactions, all money-sending outputs will have a type of P2PKH.
    - This can result in your spendable balance being lower than your actual balance.
- [eth_estimateGas](/pkg/transformer/eth_estimateGas.go)
  - Gas estimation on Kaon is as close to perfection as it may be, yet 10% of gas buffer will be added. It will be removed in later releases.
  - Gas will be refunded in the block that your transaction is mined
- [eth_sendTransaction](/pkg/transformer/eth_sendTransaction.go)
- Since Kaon runs on Bitcoin, Kaon has the concept of [dust](https://en.bitcoinwiki.org/wiki/Cryptocurrency_dust)
  - eth-rpc-gate delegates transaction signing to Kaon so KAON will handle dealing with dust
- KAON's minimum gas price is 6 satoshi
  - When specifying a gas price in wei lower than that, the minimum gas price will be used (6 satoshi)
- Kaon will reject transactions with very large fees (to prevent accidents)
